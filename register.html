<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>ğŸ‘¤ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²</title>
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body>
  <h2>åˆå›ç™»éŒ²</h2>
  <button id="registerBtn">ç™»éŒ²ã™ã‚‹</button>

<script>
document.getElementById("registerBtn").onclick = async () => {
  await liff.init({ liffId: "YOUR_LIFF_ID" });
  const userId = liff.getDecodedIDToken().sub;

  await fetch(location.origin + location.pathname, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      action: "register",
      userId
    })
  });

  alert("ç™»éŒ²ã—ã¾ã—ãŸ");
  location.href = "?page=add";
};
</script>
</body>
</html>
