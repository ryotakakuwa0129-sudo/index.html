<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>宿題追加</title>
<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
<style>
body{
  font-family:sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}
.card{
  border:2px solid #333;
  padding:20px;
  width:90%;
}
label{
  font-weight:bold;
}
input,select{
  width:100%;
  font-size:18px;
  margin-bottom:15px;
}
button{
  width:100%;
  font-size:20px;
}
</style>
</head>
<body>

<div class="card">
  <h2 style="text-align:center">宿題追加</h2>

  <label>教科</label>
  <select id="subject">
    <option>国語</option>
    <option>数学</option>
    <option>英語</option>
    <option>理科</option>
    <option>社会</option>
    <option>美術</option>
    <option>音楽</option>
    <option>その他</option>
  </select>

  <label>内容</label>
  <input id="content" placeholder="例：ワークP12〜15">

  <label>期限</label>
  <input type="date" id="deadline">

  <button onclick="send()">追加</button>
</div>

<script>
const GAS_URL="【GAS WebApp URL】";

async function send(){
  await liff.init({ liffId:"2008725002-jHJsEKRx" });
  const userId=liff.getContext().userId;

  await fetch(GAS_URL,{
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({
      type:"addHomework",
      userId,
      subject:subject.value,
      content:content.value,
      deadline:deadline.value
    })
  });

  setTimeout(()=>liff.closeWindow(),2000);
}
</script>
</body>
</html>
