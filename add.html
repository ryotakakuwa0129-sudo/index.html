<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
<script src="common.js"></script>

<h3>➕ 宿題追加</h3>

<div>
  <button onclick="setSub('国語')">国語</button>
  <button onclick="setSub('数学')">数学</button>
  <button onclick="setSub('英語')">英語</button>
  <button onclick="setSub('理科')">理科</button>
  <button onclick="setSub('社会')">社会</button>
  <button onclick="setSub('音楽')">音楽</button>
  <button onclick="setSub('美術')">美術</button>
  <button onclick="setSub('保体')">保体</button>
</div>

<p id="sub">教科未選択</p>
<input id="text" placeholder="宿題内容">
<input id="date" type="date">

<button onclick="add()">追加</button>

<script>
let subject="";

async function start(){ await liffInit() }
function setSub(s){ subject=s; sub.innerText="教科："+s }

async function add(){
  if(!subject || !text.value || !date.value){
    alert("未入力があります");
    return;
  }
  await post({
    action:"addHomework",
    userId,
    subject,
    text:text.value,
    date:date.value
  });
  liff.closeWindow();
}
start();
</script>
