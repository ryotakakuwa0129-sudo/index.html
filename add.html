<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>å®¿é¡Œè¿½åŠ </title>
<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
<script src="liff.js"></script>

<style>
body{
  font-family: system-ui;
  background: linear-gradient(135deg,#4facfe,#00f2fe);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}
.card{
  background:#fff;
  width:92%;
  max-width:420px;
  border-radius:20px;
  padding:20px;
  box-shadow:0 15px 40px rgba(0,0,0,.25);
  animation:fade .4s ease;
}
@keyframes fade{from{opacity:0;transform:translateY(20px)}}
h2{text-align:center;margin-bottom:10px}
.subjects{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:8px;
}
.subjects button{
  padding:10px;
  border:none;
  border-radius:10px;
  background:#f1f3f5;
  font-weight:bold;
}
.subjects button.active{
  background:#4facfe;
  color:#fff;
}
input,textarea{
  width:100%;
  margin-top:10px;
  padding:12px;
  border-radius:10px;
  border:1px solid #ddd;
}
button.save{
  margin-top:15px;
  width:100%;
  padding:14px;
  border:none;
  border-radius:14px;
  background:#4facfe;
  color:#fff;
  font-size:16px;
}
</style>
</head>

<body>
<div class="card">
<h2>ğŸ“˜ å®¿é¡Œè¿½åŠ </h2>

<div class="subjects" id="subjects"></div>

<input id="subject" readonly placeholder="æ•™ç§‘">
<textarea id="text" placeholder="å®¿é¡Œå†…å®¹"></textarea>

<!-- â˜… æœŸé™é¸æŠï¼ˆã“ã‚ŒãŒç„¡ã‹ã£ãŸï¼‰ -->
<input id="date" type="date">

<button class="save" onclick="save()">ä¿å­˜</button>
</div>

<script>
const SUBJECTS = ["å›½èª","æ•°å­¦","è‹±èª","ç†ç§‘","ç¤¾ä¼š","ä¿å¥ä½“è‚²","ç¾è¡“","éŸ³æ¥½","ãã®ä»–"];

initLIFF("add");

function initAdd(){
  subjects.innerHTML="";
  SUBJECTS.forEach(s=>{
    const b=document.createElement("button");
    b.textContent=s;
    b.onclick=()=>select(s,b);
    subjects.appendChild(b);
  });
}

function select(s,btn){
  subject.value=s;
  [...subjects.children].forEach(b=>b.classList.remove("active"));
  btn.classList.add("active");
}

async function save(){
  await api("addHomework",{
    subject:subject.value,
    text:text.value,
    date:date.value
  });
  alert("ä¿å­˜ã—ã¾ã—ãŸ");
}
</script>
</body>
</html>
